<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Recipe Detail</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Include Google Font (Poppins) -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-100 text-gray-800 font-sans">

  <!-- Include the Header Section Here -->
  <div id="header-container"></div>

  <!-- Recipe Detail Section -->
  <section class="max-w-7xl mx-auto px-6 py-12">
    <div id="recipe-details" class="flex flex-col sm:flex-row items-center sm:items-start space-y-6 sm:space-y-0 sm:space-x-12">

      <!-- Left side: Recipe Image with Text on Top -->
      <div class="w-full sm:w-1/2 relative">
        <img src="${recipe.image}" alt="${recipe.title}" class="w-full h-full object-cover rounded-lg shadow-lg">
        
        <!-- Text on top of the image -->
        <div class="absolute top-1/4 left-10 text-white">
          <h1 class="text-4xl font-bold shadow-lg font-poppins bg-orange-500 p-2 rounded-md">${recipe.title}</h1>
        </div>
      </div>

      <!-- Right side: Recipe Details -->
      <div class="w-full sm:w-1/2 space-y-6">
        
        <!-- Recipe Title at the top of details section -->
        <h1 class="text-4xl font-bold text-orange-600">${recipe.title}</h1>

        <!-- Author Section -->
        <div class="flex items-center space-x-4">
          <img src="https://randomuser.me/api/portraits/men/21.jpg" alt="Author" class="w-16 h-16 rounded-full object-cover">
          <div>
            <p class="font-bold text-lg text-gray-900">John Doe</p>
            <p class="text-sm text-gray-500">Food Enthusiast & Chef</p>
          </div>
        </div>

        <!-- Recipe Rating -->
        <div class="flex items-center space-x-2">
          <span class="text-lg font-bold text-gray-900">Rating:</span>
          <div class="stars flex">
            ${[1, 2, 3, 4, 5].map(i => 
              `<svg class="star ${i <= recipe.rating ? 'text-yellow-500' : 'text-gray-300'}" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27Z" fill="currentColor"/>
              </svg>`).join('')}
          </div>
        </div>

        <p class="text-lg text-gray-600">Recipe added on: <span class="font-medium">${recipeDate}</span></p>

        <!-- Separator (*** border) -->
        <div class="border-t border-gray-300 my-6"></div>

        <!-- Ingredients Section -->
        <h3 class="text-2xl font-bold text-orange-600 mb-4">Ingredients</h3>
        <ul class="list-disc pl-6 text-gray-700 grid grid-cols-3 gap-4">
          ${recipe.ingredients.map(ingredient => `<li class="text-sm">${ingredient}</li>`).join('')}
        </ul>

        <!-- Separator (*** border) -->
        <div class="border-t border-gray-300 my-6"></div>

        <!-- Description Section -->
        <h3 class="text-2xl font-bold text-orange-600 mb-4">Description</h3>
        <p class="text-lg text-gray-700">${recipe.description}</p>

        <!-- Separator (*** border) -->
        <div class="border-t border-gray-300 my-6"></div>

        <!-- Instructions Section -->
        <h3 class="text-2xl font-bold text-orange-600 mb-4">Instructions</h3>
        <p class="text-lg text-gray-700">${recipe.recipe}</p>
      </div>

    </div>
  </section>

  <script>
    // Load Header from external HTML file
    fetch('header.html')
      .then(response => response.text())
      .then(html => {
        document.getElementById('header-container').innerHTML = html;
      })
      .catch(error => console.error('Error loading header:', error));

    // Get recipe ID from URL query parameters
    const urlParams = new URLSearchParams(window.location.search);
    const recipeId = urlParams.get('id');

    // Fetch recipe data from JSON file
    fetch('recipes.json')
      .then(response => response.json())
      .then(data => {
        const recipe = data.find(recipe => recipe.id === parseInt(recipeId));

        if (recipe) {
          const recipeDetailsContainer = document.getElementById('recipe-details');
          const recipeDate = new Date(recipe.date).toLocaleDateString();

          // Render recipe details in the section
          recipeDetailsContainer.innerHTML = `
            <div class="w-full sm:w-1/2 relative">
              <img src="${recipe.image}" alt="${recipe.title}" class="w-full h-full object-cover rounded-lg shadow-lg">
              <div class="absolute top-1/4 left-10 text-white">
                <h1 class="text-4xl font-bold shadow-lg font-poppins bg-orange-500 p-2 rounded-md">${recipe.title}</h1>
              </div>
            </div>

            <div class="w-full sm:w-1/2 space-y-6">
              <h1 class="text-4xl font-bold text-orange-600">${recipe.title}</h1>

              <div class="flex items-center space-x-4">
                <img src="https://randomuser.me/api/portraits/men/21.jpg" alt="Author" class="w-16 h-16 rounded-full object-cover">
                <div>
                  <p class="font-bold text-lg text-gray-900">John Doe</p>
                  <p class="text-sm text-gray-500">Food Enthusiast & Chef</p>
                </div>
              </div>

              <div class="flex items-center space-x-2">
                <span class="text-lg font-bold text-gray-900">Rating:</span>
                <div class="stars flex">
                  ${[1, 2, 3, 4, 5].map(i => 
                    `<svg class="star ${i <= recipe.rating ? 'text-yellow-500' : 'text-gray-300'}" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27Z" fill="currentColor"/>
                    </svg>`).join('')}
                </div>
              </div>

              <p class="text-lg text-gray-600">Recipe added on: <span class="font-medium">${recipeDate}</span></p>

              <div class="border-t border-gray-300 my-6"></div>

              <h3 class="text-2xl font-bold text-orange-600 mb-4">Ingredients</h3>
              <ul class="list-disc pl-6 text-gray-700 grid grid-cols-3 gap-4">
                ${recipe.ingredients.map(ingredient => `<li class="text-sm">${ingredient}</li>`).join('')}
              </ul>

              <div class="border-t border-gray-300 my-6"></div>

              <h3 class="text-2xl font-bold text-orange-600 mb-4">Description</h3>
              <p class="text-lg text-gray-700">${recipe.description}</p>

              <div class="border-t border-gray-300 my-6"></div>

              <h3 class="text-2xl font-bold text-orange-600 mb-4">Instructions</h3>
              <p class="text-lg text-gray-700">${recipe.recipe}</p>
            </div>
          `;
        } else {
          document.getElementById('recipe-details').innerText = "Recipe not found.";
        }
      })
      .catch(error => console.error('Error loading recipe details:', error));
  </script>

</body>
</html>
